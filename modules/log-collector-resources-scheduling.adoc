// Module included in the following assemblies:
//
// * observability/logging/log_collection_forwarding/log-forwarding.adoc

:_mod-docs-content-type: PROCEDURE
[id="log-collector-resources-scheduling_{context}"]
= Configuring resources and scheduling for logging collectors

Administrators can modify the resources and scheduling of the collector by configuring the `collector` field in a `ClusterLogForwarder` custom resource (CR).

.Prerequisites

* You have administrator permissions.
* You have installed {clo}.
* You have created a `ClusterLogForwarder` CR.

.Procedure

. Update the `ClusterLogForwarder` CR:
+
.Example `ClusterLogForwarder` CR YAML
[source,yaml]
----
apiVersion:  observability.openshift.io/v1
kind: ClusterLogForwarder
metadata:
  name: <name>
  namespace: <namespace> 
spec:
  collector:
    nodeSelector:
      collector: needed
    resources:
      limits:
        memory: 1Gi
      requests:
        cpu: 100m
        memory: 1Gi
    tolerations:
    - key: "logging"
      operator: "Exists"
      effect: "NoExecute"
      tolerationSeconds: 6000
    affinity: 
      nodeAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - preference:
            matchExpressions:
            - key: label-1
              operator: Exists
          weight: 1
      podAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - podAffinityTerm:
            labelSelector:
              matchExpressions:
              - key: test
                operator: In
                values:
                 - value1
            topologyKey: kubernetes.io/hostname 
          weight: 50
        requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
            - key: run
              operator: In
              values:
              - test
          namespaceSelector: {}
          topologyKey: kubernetes.io/hostname
      podAntiAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - podAffinityTerm:
           labelSelector:
             matchExpressions:
             - key: security
               operator: In
               values:
               - S2
           topologyKey: topology.kubernetes.io/zone
          weight: 100
# ...
----

. Apply the `ClusterLogForwarder` CR by running the following command:
+
[source,terminal]
----
$ oc apply -f <filename>.yaml
----
